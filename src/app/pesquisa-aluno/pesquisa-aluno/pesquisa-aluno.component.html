<h1 class="page-title">
  <i class="icon-user"></i>
  <span style="margin-left:5px"> Controle de Alunos </span>
  <small></small>
</h1>


<div class="row">

  <div class="col-lg-12 col-xs-6 col-sm-3">
    <div class="portlet light ">
      <div class="portlet-title">
        <div class="caption">
          <span class="caption-subject bold uppercase font-dark">Lista de alunos</span>
          <span class="caption-helper">Últimos cadastrados...</span>
        </div>
        <div class="actions">
          <a class="btn btn-circle blue btn-outline btn-sm" routerLink="/alunos/novo">
            <i class="icon-plus"></i>
            Novo
          </a>
          <a class="btn btn-circle btn-icon-only btn-default" href="#">
            <i class="icon-wrench"></i>
          </a>

          <a class="btn btn-circle btn-icon-only btn-default fullscreen" href="#"> </a>
        </div>
      </div>
      <div class="portlet-body">



        <div class="row">
            <form autocomplete="off" (ngSubmit)="pesquisar()">
            <div class="ui-widget-header" style="color:#666; padding:4px 10px;border-bottom: 0 none">
                <i class="fa fa-search" style="color:#ddd;;margin:4px 4px 0 0"></i>
                <input #gb type="text" pInputText size="35" [(ngModel)]="filtro.nome"
                name="nome" ngModel >
            </div>
            </form>

          <p-dataTable [value]="alunos" [paginator]="true"
                       [rows]="filtro.itensPorPagina"
                       [lazy]="true" [totalRecords]="totalRegistros"
                            (onLazyLoad)="aoMudarPagina($event)"
                            [responsive]="true"
                            [globalFilter]="gb"
                            [rowsPerPageOptions]="[7,14,21]"
                            emptyMessage="Nenhuma Aluno encontrado...." #tabela>

            <p-column field="id" header="Código" styleClass="col-id"></p-column>
            <p-column field="nome" header="Nome" [filterField]="true"></p-column>
            <p-column field="endereco" header="Endereço"></p-column>
            <p-column field="telefone" header="Telefone" styleClass="col-tel"></p-column>
            <p-column field="sexo.descricao" header="Sexo"></p-column>


            <p-column styleClass="col-acoes" header="Ações">
              <ng-template let-aluno="rowData" pTemplate="body">

                <button pButton icon="fa-pencil" pTooltip="Editar" class="ui-button-info" tooltipPosition="top" [routerLink]="['/alunos', aluno.id]"></button>

                <button pButton icon="fa-trash" pTooltip="Excluir" class="ui-button-primary" tooltipPosition="top" (click)="confirmarExclusao(aluno.id)"></button>
              </ng-template>


            </p-column>
          </p-dataTable>


        </div>
      </div>
    </div>
  </div>

</div>
